(this["webpackJsonpmovie-suggestion"]=this["webpackJsonpmovie-suggestion"]||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(21),a=n.n(r),i=(n(28),n(5)),o=n.n(i),u=n(9),d=n(2),j=n(12),l=(n(30),n(3)),b=n(0),v=function(){var e=Object(c.useContext)(_),t=e.isMovie,n=e.movieGenre,s=e.tvGenre,r=e.addSelectedGenre,a=e.resetSelectedGenres,i=e.setMovieOption,o=n.map((function(e){var t="".concat(e.name,"-").concat(e.id);return Object(b.jsx)("div",{className:"genreButton",onClick:function(e){return r(e.target.textContent)},children:e.name},t)})),u=s.map((function(e){var t="".concat(e.name,"-").concat(e.id);return Object(b.jsx)("div",{className:"genreButton",onClick:function(e){return r(e.target.textContent)},children:e.name},t)}));return Object(b.jsxs)("div",{className:"App-genres",children:[Object(b.jsxs)("div",{className:"App-options",children:[Object(b.jsx)("div",{className:t?"selected":"showType",onClick:function(){t||a(),i(!0)},children:"Movie Genres"}),Object(b.jsx)("div",{className:t?"showType":"selected",onClick:function(){t&&a(),i(!1)},children:"TV Series Genres"})]}),Object(b.jsx)("div",{className:"quotes",children:"Choose a genre that you would like to base the generator"}),e.isMovie?Object(b.jsx)("div",{className:"Genres",children:o}):Object(b.jsx)("div",{className:"Genres",children:u})]})},p=function(){var e=Object(c.useContext)(_),t=e.selectedGenres,n=e.generateMovieTV,s=e.isMaxGenre,r=Object(c.useState)(!0),a=Object(d.a)(r,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){t.length>0?o(!1):o(!0)}),[t]),Object(b.jsx)("div",{className:"App-generator",children:Object(b.jsxs)("div",{className:"quotes",onClick:n,children:["Surprise yourself!",i?Object(b.jsx)("div",{}):function(){var e=t.map((function(e){return e.name}));return Object(b.jsxs)("div",{className:"selectedGenres",children:["Selected Genres: ",e.join(", ")]})}(),s?Object(b.jsx)("div",{className:"error",children:"Reached max number of allowable genres. (max 3)"}):Object(b.jsx)("div",{})]})})},h=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{}),Object(b.jsx)(v,{})]})},O=n(10),f=function(e){var t=e.currentPage,n=e.setCurrentPage,s=e.lastPage,r=Object(c.useState)(t),a=Object(d.a)(r,2),i=a[0],o=a[1];return Object(b.jsxs)("div",{className:"pagination",children:[Object(b.jsx)(O.a,{onClick:function(){t<=1||n(t-1)}}),Object(b.jsx)("input",{className:"page-number",type:"number",value:i,onChange:function(e){return function(e){var t=parseInt(e);t<=s&&t>0&&o(t)}(e.target.value)},onKeyDown:function(e){13===e.keyCode&&n(i)}}),Object(b.jsx)("div",{children:"of"}),Object(b.jsx)("div",{children:s}),Object(b.jsx)(O.b,{onClick:function(){t!==s&&n(t+1)}})]})},g=function(){return Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)(O.d,{className:"loading-img"}),"Loading"]})},m=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),a=Object(d.a)(r,2),i=a[0],j=a[1],l=Object(c.useState)(1),v=Object(d.a)(l,2),p=v[0],h=v[1],O=Object(c.useState)(1),m=Object(d.a)(O,2),x=m[0],S=m[1],M=Object(c.useContext)(_).movieGenre,y=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/discover/movie?api_key=e3a89ca39100bceea4b71882246c87ff&language=en-US&sort_by=popularity.desc");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.results),h(n.page),S(n.total_pages),j(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){var t=[];return M.map((function(n){e.includes(n.id)&&t.push(n.name)})),t.join(", ")},N=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/discover/movie?api_key=".concat("e3a89ca39100bceea4b71882246c87ff","&language=en-US&sort_by=popularity.desc&page=").concat(t),e.next=3,fetch(n);case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,s(r.results),j(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j(!0),y()}),[]),Object(b.jsx)("div",{children:i?Object(b.jsx)(g,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:function(){if(n.length>0)return n.map((function(e){return Object(b.jsxs)("div",{className:"movie",children:[Object(b.jsx)("img",{className:"image",alt:e.title,src:"https://image.tmdb.org/t/p/original"+e.poster_path}),Object(b.jsxs)("div",{className:"movieContent",children:[Object(b.jsx)("div",{children:e.title}),Object(b.jsx)("div",{children:G(e.genre_ids)}),Object(b.jsxs)("div",{children:["Release Date: ",e.release_date]}),Object(b.jsx)("div",{children:e.overview})]})]},e.id)}))}()}),Object(b.jsx)(f,{currentPage:p,setCurrentPage:function(e){j(!0),h(e),N(e)},lastPage:x})]})})},x=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),a=Object(d.a)(r,2),i=a[0],j=a[1],l=Object(c.useState)(1),v=Object(d.a)(l,2),p=v[0],h=v[1],O=Object(c.useState)(1),m=Object(d.a)(O,2),x=m[0],S=m[1],M=Object(c.useContext)(_).tvGenre,y=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/discover/tv?api_key=e3a89ca39100bceea4b71882246c87ff&language=en-US&sort_by=popularity.desc");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.results),h(n.page),S(n.total_pages),j(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){var t=[];return M.map((function(n){e.includes(n.id)&&t.push(n.name)})),t.join(", ")},N=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.themoviedb.org/3/discover/tv?api_key=".concat("e3a89ca39100bceea4b71882246c87ff","&language=en-US&sort_by=popularity.desc&page=").concat(t),e.next=3,fetch(n);case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,s(r.results),j(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){j(!0),y()}),[]),Object(b.jsx)("div",{className:"App",children:i?Object(b.jsx)(g,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:function(){if(n.length>0)return n.map((function(e){return Object(b.jsxs)("div",{className:"movie",children:[Object(b.jsx)("img",{className:"image",alt:e.name,src:"https://image.tmdb.org/t/p/original"+e.poster_path}),Object(b.jsxs)("div",{className:"movieContent",children:[Object(b.jsx)("div",{children:e.name}),Object(b.jsx)("div",{children:G(e.genre_ids)}),Object(b.jsxs)("div",{children:["First Air Date: ",e.first_air_date]}),Object(b.jsx)("div",{children:e.overview})]})]},e.id)}))}()}),Object(b.jsx)(f,{currentPage:p,setCurrentPage:function(e){j(!0),h(e),N(e)},lastPage:x})]})})},S=function(){var e=Object(c.useContext)(y),t=e.suggestedMovie,n=e.genres,s=e.loading,r=e.isMovie;return Object(b.jsx)("div",{children:s?Object(b.jsx)(g,{}):Object(b.jsxs)("div",{className:"movie",children:[Object(b.jsx)("img",{className:"image",alt:r?t.title:t.name,src:"https://image.tmdb.org/t/p/original"+t.poster_path}),Object(b.jsxs)("div",{className:"movieContent",children:[r?Object(b.jsx)("div",{children:t.title}):Object(b.jsx)("div",{children:t.name}),Object(b.jsx)("div",{children:function(e){if(s||void 0===e)return"";var t=[];return n.map((function(n){e.includes(n.id)&&t.push(n.name)})),t.join(", ")}(t.genre_ids)}),r?Object(b.jsxs)("div",{children:["Release Date: ",t.release_date]}):Object(b.jsxs)("div",{children:["First Air Date: ",t.first_air_date]}),Object(b.jsx)("div",{children:t.overview})]})]})})},M=function(e){var t=e.resetSelectedGenres,n=Object(l.f)();return Object(b.jsxs)("div",{className:"App-header",children:[Object(b.jsxs)("div",{className:"App-image",children:[Object(b.jsx)("div",{children:"What to"}),Object(b.jsx)(O.c,{})]}),Object(b.jsxs)("div",{className:"App-pages",children:[Object(b.jsx)("div",{onClick:function(){n.push("/"),t()},children:"Home"}),Object(b.jsx)("div",{onClick:function(){n.push("/movies"),t()},children:"Movies"}),Object(b.jsx)("div",{onClick:function(){n.push("/tv-series"),t()},children:"TV Series"})]})]})},_=s.a.createContext(),y=s.a.createContext(),G="e3a89ca39100bceea4b71882246c87ff",N=function(e){var t=e.children,n=e.generateMovieTV,c=e.isMaxGenre,s=e.addSelectedGenre,r=e.movieGenre,a=e.tvGenre,i=e.selectedGenres,o=e.resetSelectedGenres,u=e.isMovie,d=e.setMovieOption;return Object(b.jsx)(_.Provider,{value:{generateMovieTV:n,isMaxGenre:c,addSelectedGenre:s,movieGenre:r,tvGenre:a,selectedGenres:i,resetSelectedGenres:o,isMovie:u,setMovieOption:d},children:t})},C=function(e){var t=e.children,n=e.suggestedMovie,c=e.loading,s=e.genres,r=e.isMovie;return Object(b.jsx)(y.Provider,{value:{suggestedMovie:n,loading:c,genres:s,isMovie:r},children:t})},k=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),a=Object(d.a)(r,2),i=a[0],v=a[1],p=Object(c.useState)([]),O=Object(d.a)(p,2),f=O[0],g=O[1],_=Object(c.useState)([]),y=Object(d.a)(_,2),k=y[0],w=y[1],T=Object(c.useState)([!0]),P=Object(d.a)(T,2),A=P[0],D=P[1],U=Object(c.useState)({}),B=Object(d.a)(U,2),V=B[0],E=B[1],I=Object(c.useState)(!1),R=Object(d.a)(I,2),q=R[0],F=R[1],J=Object(c.useState)(!1),H=Object(d.a)(J,2),K=H[0],L=H[1],W=Object(l.f)(),z=function(){s([]),D(!0),L(!1)},Q=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,c,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e3a89ca39100bceea4b71882246c87ff&language=en-US");case 2:return t=e.sent,e.next=5,fetch("https://api.themoviedb.org/3/genre/tv/list?api_key=e3a89ca39100bceea4b71882246c87ff&language=en-US");case 5:return n=e.sent,e.next=8,t.json();case 8:return c=e.sent,e.next=11,n.json();case 11:s=e.sent,a=[].concat(Object(j.a)(c.genres),Object(j.a)(s.genres)),r=Object(j.a)(new Map(a.map((function(e){return[e.id,e]}))).values()),w(r),v(c.genres),g(s.genres);case 16:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,s,r,a,i,u,d,j,l,b,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.join("%2C"),s="https://api.themoviedb.org/3/discover/".concat(t,"?api_key=").concat(G,"&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=false&page=1&with_genres=").concat(c),e.next=4,fetch(s);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,i=a.total_pages+1,u=a.page,d=Math.floor(Math.random()*(i-u))+u,j="https://api.themoviedb.org/3/discover/".concat(t,"?api_key=").concat(G,"&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=false&page=").concat(d,"&with_genres=").concat(c),e.next=14,fetch(j);case 14:return l=e.sent,e.next=17,l.json();case 17:b=e.sent,v=b.results[Math.floor(Math.random()*b.results.length)],F(!1),E(v);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Q()}),[]),Object(b.jsx)(N,{generateMovieTV:function(){if(F(!0),A){var e=n.map((function(e){return e.id}));return X("movie",e),void W.push("/suggest")}var t=n.map((function(e){return e.id}));X("tv",t),W.push("/suggest")},addSelectedGenre:function(e){var t=n.map((function(e){return e.name}));if(t.includes(e)){var c=n.findIndex((function(e){return e.name===e})),r=Object(j.a)(n);return r.splice(c,1),s(r),void L(!1)}if(3!==n.length){var a=Object(j.a)(n);if(A)return i.map((function(t){return t.name===e?a.push(t):null})),void s(a);f.map((function(t){return t.name===e?a.push(t):null})),s(a)}else L(!0)},selectedGenres:n,movieGenre:i,tvGenre:f,resetSelectedGenres:z,isMovie:A,isMaxGenre:K,setMovieOption:function(e){D(e),L(!1)},children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(M,{resetSelectedGenres:z}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",component:h,exact:!0}),Object(b.jsx)(l.a,{path:"/movies",component:m}),Object(b.jsx)(l.a,{path:"/tv-series",component:x}),Object(b.jsx)(C,{suggestedMovie:V,loading:q,genres:k,isMovie:A,children:Object(b.jsx)(l.a,{path:"/suggest",component:S})})]}),Object(b.jsxs)("div",{className:"TMDb",children:[Object(b.jsx)("div",{children:"This product uses the TMDB API but is not endorsed or certified by TMDB"}),Object(b.jsx)("img",{className:"TMDB-logo",alt:"TMDB logo",src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_short-8e7b30f73a4020692ccca9c88bafe5dcb6f8a62a4c6bc55cd9ba82bb2cd95f6c.svg"})]})]})})},w=n(15);a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(w.a,{children:Object(b.jsx)(k,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.697685c9.chunk.js.map